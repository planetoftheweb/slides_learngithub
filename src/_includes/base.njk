<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    {%- for item in slideindex -%}
      {% if page.fileSlug == item.fileSlug %}
        <title>{{ page.fileSlug }}
          --
          {{item.data.title}}</title>
      {% endif %}
    {%- endfor -%}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.28.0/themes/prism.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Asap:wght@400;700&family=Roboto+Slab:wght@100;300;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        font-size: 1.2em;
      }
      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: 'Asap', sans-serif;
        font-weight: 700;
      }
      h1:nth-of-type(n+2) {
        font-size: 1.8rem;
        opacity: 0.7;
        color: #8C6621;
      }
      .slide-link a,
      a code {
        font-family: 'Asap', sans-serif;
        font-size: 1.1em;
        display: inline-block;
        padding: 0.2em 0.5em;
        color: white;
        text-align: center;
        text-decoration: none;
        vertical-align: middle;
        cursor: pointer;
        user-select: none;
        border-radius: 0.25em;
        background-color: gray;
      }

      a code.code-primary {
        background-color: var(--bs-primary);
      }

      a code.code-royal {
        background-color: var(--bs-purple);
      }
      .slide-link a {
        background-color: var(--bs-red);
      }
    </style>
  </head>
  <body class="bg-subdued" style="font-family: Roboto Slab; font-weight: 300">
    <div class="post post-sidebar container-fluid">
      <div class="row justify-content-md-center">

        {% if collections.slides.length > 1 -%}
          <aside class="bg-dark min-vh-100  aside aside-main col col-md-3 col-lg-2 gx-0">
            <nav class="sticky-top fw-medium lh-sm pt-2 ">
              <h3 class="text-secondary ms-2">Documents</h3>
              {%- for item in collections.slides | sortBySlugs -%}
                {# TODO: Fix filtering so I can just match a pattern #}
                {% if (item.fileSlug !== 'demo' and item.fileSlug !== '00_01' and item.fileSlug !== '00_02' and item.fileSlug !== '00_03' and item.fileSlug !== 'slides') %}
                  <div class="d-flex justify-content-end align-items-right border-bottom p-2" {% if page.fileSlug  == item.fileSlug %} style="background-color: #DC9F04" {% else %} style="background-color:#F0C051;"{% endif %}>
                    <a class="text-decoration-none d-flex {% if page.fileSlug  == item.fileSlug %} text-light link-light {% endif %}" href="../{{ item.fileSlug | safe }}/index.html">
                      <i class="bi bi-file-text-fill me-2 lh-1" style="color: #8C6621;"></i>
                      <div class="d-flex flex-column lh-1">
                        <span class="fw-medium lh-1" style="color: #8C6621; font-size: .7em">{{ item.fileSlug | safe }}</span>
                        <span class="fw-bold lh-1 text-white" style="font-family: Asap; font-size: 1.1em">{{ item.data.title | safe }}</span>
                      </div>
                    </a>
                    <a class="flex-fill ms-3 text-end" style="color: #8C6621;" href="../../../?d={{ item.fileSlug }}&#">
                      <i class="bi bi-collection-play-fill"></i>
                    </a>
                  </div>
                {% endif %}
              {%- endfor -%}
            </nav>
          </aside>
        {% endif -%}

        <main class="main col col-md-6 col-lg-8">
          {{ content | safe }}
        </main>
        <aside class="aside aside-supplemental col col-md-3 col-lg-2 d-none d-md-block">
          <nav class="sticky-top">
            <h3 class="pt-2">This Slide</h3>
            {{ content | toc | safe }}
          </nav>
        </aside>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.28.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>